:coffeescript
	$ ->
		$('.show_build_params').click ->
			build_params = $(this).siblings(".build_params")
			if build_params.is(":visible")
			  build_params.hide()
			else
			  build_params.show()

%table
	%tr
		%th{style:"padding: 3px"}= "Status"
		%th{style:"padding: 3px"}= "Number"
		%th{style:"padding: 3px"}= "Params"
	-builds.each do |b|
		%tr
			%td{title:b["status"], :style=>"text-align: center"}
				-status_images={"ABORTED"=>"http://jenkins.mercury.office:8080/static/aaf3e3e1/images/16x16/aborted.png", "SUCCESS"=>"http://jenkins.mercury.office:8080/static/aaf3e3e1/images/16x16/blue.png", "FAILURE"=>"http://jenkins.mercury.office:8080/static/aaf3e3e1/images/16x16/red.png", "IN_PROGRESS"=>"http://jenkins.mercury.office:8080/static/aaf3e3e1/images/16x16/blue_anime.gif", "IN_QUEUE"=>"http://jenkins.mercury.office:8080/static/aaf3e3e1/images/16x16/hourglass.png"}
				%img{src:status_images[b["status"]]}
			%td{:style=>"text-align: center"}= b["number"]
			%td
				%button{class:"show_build_params"}= "Show"
				%div{class:"build_params", style:"display:none;"}
					-b["params"].each do |p|
						%p=p
